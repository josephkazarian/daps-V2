{"version":3,"sources":["webpack:///./src/views/UserProfile.vue?cb59","webpack:///./src/components/ImageUploader.vue?7371","webpack:///./src/views/UserProfile.vue","webpack:///./src/components/ImageUploader.vue","webpack:///./src/components/ImageUploader.vue?08e1","webpack:///./src/views/UserProfile.vue?9b7f"],"names":["class","style","src","userInfo","profilePicture","width","firstName","lastName","$t","username","type","emailAddress","Faculty","Semester","MajorStudyCourse","succeedAlert","saveUser","imageFile","length","showImagePreview","$event","accept","isImageUploading","clearImage","uploadImage","name","data","input","extension","methods","event","this","target","files","reader","FileReader","onload","e","result","readAsDataURL","UsersService","uploadUserPhoto","window","location","reload","__exports__","components","ImageUploader","beforeCreate","localStorage","getItem","userLoggedIn","getUserInfo","_id","updateUser","hasSucceed","render"],"mappings":"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","file":"js/chunk-48cdbd38.15355122.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserProfile.vue?vue&type=style&index=0&id=d2188ac4&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ImageUploader.vue?vue&type=style&index=0&id=d4461046&scoped=true&lang=css\"","<template>\r\n  <div class=\"container\">\r\n    <div class=\"main\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-4 mt-1\">\r\n          <div class=\"card text-center sidebar\">\r\n            <div class=\"card-body\">\r\n              <img\r\n                :src=\"'/userImages/' + userInfo.profilePicture\"\r\n                class=\"rounded-circle\"\r\n                width=\"300\"\r\n              />\r\n              <ImageUploader />\r\n              <div class=\"mt-3\">\r\n                <h3>{{ userInfo.firstName || \"\" }} {{ userInfo.lastName || \"\" }}</h3>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-8 mt-1\">\r\n          <div class=\"card mb-3 content\">\r\n            <h1 class=\"m-3 pt-3\">About</h1>\r\n            <div class=\"card-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"username\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  {{ userInfo.username || \"\" }}\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"firstName\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  <input type=\"text\" v-model=\"userInfo.firstName\" />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"lastName\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  <input type=\"text\" v-model=\"userInfo.lastName\" />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"emailAddress\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  <input type=\"email\" v-model=\"userInfo.emailAddress\" />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"faculty\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  <input type=\"text\" v-model=\"userInfo.Faculty\" />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"semester\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  <input type=\"text\" v-model=\"userInfo.Semester\" />\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3\">\r\n                  <h5>{{ $t(\"studyField\") }}</h5>\r\n                </div>\r\n                <div class=\"col-md-9 text-secondary\">\r\n                  <input type=\"text\" v-model=\"userInfo.MajorStudyCourse\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"row\" style=\"margin-top: 25px\">\r\n                <div class=\"col-md-4\"></div>\r\n                <div class=\"col-md-6\">\r\n                  <button\r\n                    v-if=\"!succeedAlert\"\r\n                    @click.prevent=\"saveUser()\"\r\n                    type=\"button\"\r\n                    class=\"btn btn-info\"\r\n                  >\r\n                    {{ $t(\"save\") }}\r\n                  </button>\r\n                  <div v-else class=\"alert alert-success alert-link\">\r\n                    {{ $t(\"saved\") }}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UsersService from \"../services/UsersService\";\r\nimport ImageUploader from \"../components/ImageUploader\";\r\n\r\nexport default {\r\n  name: \"userPage\",\r\n  data() {\r\n    return {\r\n      userInfo: {},\r\n      succeedAlert: false,\r\n    };\r\n  },\r\n  components: {\r\n    ImageUploader,\r\n  },\r\n  async beforeCreate() {\r\n    if (localStorage.getItem(\"loggedInUserID\") !== null) {\r\n      this.userLoggedIn = true;\r\n      this.userInfo = await UsersService.getUserInfo();\r\n      this.userInfo.profilePicture = this.userInfo.profilePicture || \"user.png\";\r\n    }\r\n  },\r\n  methods: {\r\n    async saveUser() {\r\n      delete this.userInfo._id;\r\n      let result = await UsersService.updateUser(this.userInfo);\r\n      this.succeedAlert = result.hasSucceed;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nbody {\r\n  margin-top: 20px;\r\n  background-color: lightgray;\r\n}\r\n.main {\r\n  padding: 15px;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n}\r\n.topbar {\r\n  background-color: teal;\r\n  overflow: hidden;\r\n}\r\n.topbar a {\r\n  float: right;\r\n  color: whitesmoke;\r\n  text-align: center;\r\n  padding: 20px 26px;\r\n  text-decoration: none;\r\n  font-size: 26px;\r\n}\r\n.sidebar {\r\n  background-color: #333;\r\n  color: white;\r\n  height: 100%;\r\n}\r\n.sidebar a {\r\n  margin-left: 10px;\r\n  display: block;\r\n  color: white;\r\n  padding-bottom: 10px;\r\n  font-size: 30px;\r\n  text-decoration: none;\r\n}\r\n.card {\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.content {\r\n  background-color: whitesmoke;\r\n}\r\n</style>\r\n","<template>\r\n  <div>\r\n    <div class=\"np-image-upload-picker\" v-if=\"imageFile == null || imageFile.length == 0\">\r\n      <input type=\"file\" @change=\"showImagePreview($event)\" accept=\"image/*\" />\r\n    </div>\r\n    <div class=\"np-image-preview\" v-if=\"imageFile != null && imageFile.length != 0\">\r\n      <img class=\"np-preview\" :src=\"imageFile\" />\r\n    </div>\r\n    <div v-if=\"imageFile != null && imageFile.length != 0 && !isImageUploading\">\r\n      <button @click=\"clearImage\" class=\"np-upload-btn np-upload-btn-cancel\">\r\n        {{ $t(\"cancel\") }}\r\n      </button>\r\n      <button @click=\"uploadImage\" class=\"np-upload-btn np-upload-btn-confirm\">\r\n        {{ $t(\"upload\") }}\r\n      </button>\r\n    </div>\r\n    <div class=\"np-upload-in-progress\" v-if=\"isImageUploading\">\r\n      {{ $t(\"uploadingPleaseWait\") }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport UsersService from \"../services/UsersService\";\r\n\r\nexport default {\r\n  name: \"ImageUploader\",\r\n  data() {\r\n    return {\r\n      imageFile: null,\r\n      input: null,\r\n      isImageUploading: false,\r\n      extension: \".jpg\",\r\n    };\r\n  },\r\n  methods: {\r\n    showImagePreview(event) {\r\n      this.input = event.target;\r\n\r\n      if (this.input.files[0].type == \"image/png\") {\r\n        this.extension = \".png\";\r\n      } else if (this.input.files[0].type == \"image/jpeg\") {\r\n        this.extension = \".jpg\";\r\n      }\r\n\r\n      if (this.input.files && this.input.files[0]) {\r\n        let reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          this.imageFile = e.target.result;\r\n        };\r\n        reader.readAsDataURL(this.input.files[0]);\r\n      }\r\n    },\r\n    async uploadImage() {\r\n      this.isImageUploading = true;\r\n      await UsersService.uploadUserPhoto(this.extension, this.imageFile);\r\n      this.clearImage();\r\n\r\n      this.isImageUploading = false;\r\n      window.location.reload();\r\n    },\r\n    clearImage() {\r\n      this.imageFile = null;\r\n      this.input = null;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.np-image-preview {\r\n  padding: 20px;\r\n  background: #eee;\r\n  border-radius: 16px;\r\n  margin: 10px;\r\n}\r\n\r\n.np-image-upload-picker {\r\n  padding: 20px;\r\n  background: #eee;\r\n  border-radius: 16px;\r\n  margin: 10px;\r\n}\r\n\r\nimg.np-preview {\r\n  background-color: #fff;\r\n  border: 1px solid #ddd;\r\n  padding: 5px;\r\n  height: 200px;\r\n  border-radius: 16px;\r\n  margin: 10px;\r\n  width: 100%;\r\n}\r\n.np-upload-btn {\r\n  margin: 10px;\r\n  border: 0px !important;\r\n  font-size: 18px;\r\n  padding: 16px 60px !important;\r\n  font-weight: 300;\r\n  color: #fff;\r\n  border-radius: 30px;\r\n}\r\n\r\n.np-upload-btn-confirm {\r\n  background: rgb(0, 163, 73) !important;\r\n}\r\n\r\n.np-upload-btn-cancel {\r\n  background: rgb(122, 0, 31) !important;\r\n}\r\n\r\n.np-upload-in-progress {\r\n  background: #eee !important;\r\n  margin: 10px;\r\n  border: 0px !important;\r\n  font-size: 18px;\r\n  padding: 16px 60px !important;\r\n  font-weight: 300;\r\n  color: #000;\r\n  border-radius: 30px;\r\n}\r\n</style>\r\n","import { render } from \"./ImageUploader.vue?vue&type=template&id=d4461046&scoped=true\"\nimport script from \"./ImageUploader.vue?vue&type=script&lang=js\"\nexport * from \"./ImageUploader.vue?vue&type=script&lang=js\"\n\nimport \"./ImageUploader.vue?vue&type=style&index=0&id=d4461046&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\j.kazarian\\\\Desktop\\\\dapsV2\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d4461046\"]])\n\nexport default __exports__","import { render } from \"./UserProfile.vue?vue&type=template&id=d2188ac4&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=d2188ac4&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\j.kazarian\\\\Desktop\\\\dapsV2\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d2188ac4\"]])\n\nexport default __exports__"],"sourceRoot":""}