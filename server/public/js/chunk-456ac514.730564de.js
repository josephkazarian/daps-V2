(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-456ac514"],{1148:function(t,e,r){"use strict";var n=r("da84"),o=r("5926"),c=r("577e"),a=r("1d80"),i=n.RangeError;t.exports=function(t){var e=c(a(this)),r="",n=o(t);if(n<0||n==1/0)throw i("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r}},"408a":function(t,e,r){var n=r("e330");t.exports=n(1..valueOf)},"6da5":function(t,e,r){"use strict";var n=r("d4ec"),o=r("bee2"),c=(r("d3b7"),r("bc3a")),a=r.n(c),i="/api/orders/",u=function(){function t(){Object(n["a"])(this,t)}return Object(o["a"])(t,null,[{key:"postOrder",value:function(t,e,r,n){var o=new Date;return new Promise((function(c,u){try{var s=a.a.post(i+"order",{buyerID:t,boughtItems:e,orderPrice:r,orderDiscount:n,date:o.toLocaleString()});c(s)}catch(b){u(b)}}))}},{key:"getUserLastOrder",value:function(t){return new Promise((function(e,r){a.a.get(i+"last/"+t).then((function(t){var r=t.data;e(r)})).catch((function(t){r(t)}))}))}},{key:"getUserOrders",value:function(t){return new Promise((function(e,r){a.a.get(i+"/"+t).then((function(t){var r=t.data;e(r)})).catch((function(t){r(t)}))}))}}]),t}();e["a"]=u},b680:function(t,e,r){"use strict";var n=r("23e7"),o=r("da84"),c=r("e330"),a=r("5926"),i=r("408a"),u=r("1148"),s=r("d039"),b=o.RangeError,l=o.String,h=Math.floor,f=c(u),d=c("".slice),p=c(1..toFixed),O=function(t,e,r){return 0===e?r:e%2===1?O(t,e-1,r*t):O(t*t,e/2,r)},j=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},g=function(t,e,r){var n=-1,o=r;while(++n<6)o+=e*t[n],t[n]=o%1e7,o=h(o/1e7)},m=function(t,e){var r=6,n=0;while(--r>=0)n+=t[r],t[r]=h(n/e),n=n%e*1e7},v=function(t){var e=6,r="";while(--e>=0)if(""!==r||0===e||0!==t[e]){var n=l(t[e]);r=""===r?n:r+f("0",7-n.length)+n}return r},k=s((function(){return"0.000"!==p(8e-5,3)||"1"!==p(.9,0)||"1.25"!==p(1.255,2)||"1000000000000000128"!==p(0xde0b6b3a7640080,0)}))||!s((function(){p({})}));n({target:"Number",proto:!0,forced:k},{toFixed:function(t){var e,r,n,o,c=i(this),u=a(t),s=[0,0,0,0,0,0],h="",p="0";if(u<0||u>20)throw b("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return l(c);if(c<0&&(h="-",c=-c),c>1e-21)if(e=j(c*O(2,69,1))-69,r=e<0?c*O(2,-e,1):c/O(2,e,1),r*=4503599627370496,e=52-e,e>0){g(s,0,r),n=u;while(n>=7)g(s,1e7,0),n-=7;g(s,O(10,n,1),0),n=e-1;while(n>=23)m(s,1<<23),n-=23;m(s,1<<n),g(s,1,1),m(s,2),p=v(s)}else g(s,0,r),g(s,1<<-e,0),p=v(s)+f("0",u);return u>0?(o=p.length,p=h+(o<=u?"0."+f("0",u-o)+p:d(p,0,o-u)+"."+d(p,o-u))):p=h+p,p}})},f054:function(t,e,r){"use strict";r.r(e);r("b680");var n=r("7a23"),o={key:0,class:"table"},c={class:"thead-dark"},a=Object(n["h"])("th",{scope:"col"},"#",-1),i={scope:"col"},u={scope:"col"},s={scope:"col"},b={scope:"row"},l={style:{"font-weight":"bold","font-size":"1.2em","border-top":"1px solid"}},h={style:{"text-align":"right"},colspan:"3"},f={style:{"font-weight":"bold","font-size":"1.2em","border-top":"1px solid"}},d={style:{"text-align":"right"},colspan:"4"},p={key:1,style:{"text-align":"center",width:"100%",color:"rgba(95, 158, 160, 0.6)"}},O=Object(n["h"])("i",{style:{"font-size":"4em","margin-top":"25px","margin-bottom":"30px"},class:"fas fa-book"},null,-1);function j(t,e,r,j,g,m){return g.booksInCart.length>0?(Object(n["u"])(),Object(n["g"])("table",o,[Object(n["h"])("thead",c,[Object(n["h"])("tr",null,[a,Object(n["h"])("th",i,Object(n["D"])(t.$t("bookTitle")),1),Object(n["h"])("th",u,Object(n["D"])(t.$t("ISBN")),1),Object(n["h"])("th",s,Object(n["D"])(t.$t("price")),1)])]),Object(n["h"])("tbody",null,[(Object(n["u"])(!0),Object(n["g"])(n["a"],null,Object(n["A"])(g.booksInCart,(function(t,e){return Object(n["u"])(),Object(n["g"])("tr",{key:t.ID},[Object(n["h"])("th",b,Object(n["D"])(e+1),1),Object(n["h"])("td",null,Object(n["D"])(t.Name),1),Object(n["h"])("td",null,Object(n["D"])(t.ISBN),1),Object(n["h"])("td",null,Object(n["D"])(t.price)+" €",1)])})),128)),Object(n["h"])("tr",l,[Object(n["h"])("td",h,Object(n["D"])(t.$t("priceSum")),1),Object(n["h"])("td",null,Object(n["D"])(g.priceSum.toFixed(2))+" €",1)]),Object(n["h"])("tr",f,[Object(n["h"])("td",d,[Object(n["h"])("button",{onClick:e[0]||(e[0]=Object(n["K"])((function(t){return m.toPayment()}),["prevent"])),type:"button",class:"btn btn-success"},Object(n["D"])(t.$t("toPayment")),1)])])])])):(Object(n["u"])(),Object(n["g"])("div",p,[O,Object(n["h"])("h3",null,Object(n["D"])(t.$t("emptyCart")),1)]))}var g=r("1da1"),m=(r("96cf"),r("4de4"),r("d3b7"),r("159b"),r("9378")),v=r("6da5"),k=r("bf80"),w={name:"ShoppingCartPage",data:function(){return{booksInCart:[],priceSum:0,userID:"",booksInCartForRequest:[]}},beforeCreate:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=[],e.prev=1,e.next=4,m["a"].getAllBooks();case 4:r=e.sent,t.booksInCart=m["a"].getShoppingCartItems(),t.userID=k["a"].getUserIDFromLocalStorage(),r=r.filter((function(t){return this.booksInCart.some((function(e){return e.bookID===t._id}))}),t),t.booksInCart=r,t.priceSum=t.booksInCart.reduce((function(t,e){return t+parseFloat(e.price)}),0),t.booksInCart.forEach((function(e){t.booksInCartForRequest.push(e._id)}),t),e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](1),t.error=e.t0.message,console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()},methods:{toPayment:function(){var t=this;return Object(g["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v["a"].postOrder(t.userID,t.booksInCartForRequest,t.priceSum,t.priceSum);case 2:m["a"].emptyCart(),t.$router.push("/payment");case 4:case"end":return e.stop()}}),e)})))()}}},I=r("6b0d"),y=r.n(I);const D=y()(w,[["render",j]]);e["default"]=D}}]);
//# sourceMappingURL=chunk-456ac514.730564de.js.map