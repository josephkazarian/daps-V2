{"version":3,"sources":["webpack:///./src/views/Orders.vue","webpack:///./src/views/Orders.vue?5534","webpack:///./src/services/OrdersService.js"],"names":["class","scope","$t","orders","order","index","key","_id","date","orderPrice","orderDiscount","name","data","userID","beforeCreate","UsersService","getUserIDFromLocalStorage","OrdersService","getUserOrders","console","log","__exports__","render","url","BooksService","buyerID","boughtItems","Date","Promise","resolve","reject","res","axios","post","toLocaleString","err","get","then","resData","catch","error"],"mappings":"4IACSA,MAAM,S,GACJA,MAAM,c,EAET,eAAsB,MAAlBC,MAAM,OAAM,KAAC,G,GACbA,MAAM,O,GACNA,MAAM,O,GACNA,MAAM,O,GACNA,MAAM,O,GACNA,MAAM,O,GAKNA,MAAM,O,gDAbhB,eAqBQ,QArBR,EAqBQ,CApBN,eASQ,QATR,EASQ,CARN,eAOK,WANH,EACA,eAAwC,KAAxC,EAAwC,eAArB,EAAAC,GAAE,eACrB,eAAqC,KAArC,EAAqC,eAAlB,EAAAA,GAAE,YACrB,eAAsC,KAAtC,EAAsC,eAAnB,EAAAA,GAAE,aACrB,eAAyC,KAAzC,EAAyC,eAAtB,EAAAA,GAAE,gBACrB,eAAyC,KAAzC,EAAyC,eAAtB,EAAAA,GAAE,oBAGzB,eASQ,e,mBARN,eAOK,2BAPwB,EAAAC,QAAM,SAAvBC,EAAOC,G,wBAAnB,eAOK,MAPiCC,IAAKF,EAAMG,K,CAC/C,eAAoC,KAApC,EAAoC,eAAjBF,EAAQ,GAAH,GACxB,eAAwB,yBAAjBD,EAAMG,KAAG,GAChB,eAA+B,yBAAxBH,EAAMI,MAAI,OACjB,eAAiC,yBAA1BJ,EAAMK,YAAa,KAAE,GAC5B,eAAoC,yBAA7BL,EAAMM,eAAgB,KAAE,GAC/B,eAAuD,yBAAhDN,EAAMK,WAAaL,EAAMM,eAAgB,KAAE,Q,8DAU3C,GACbC,KAAM,SACNC,KAFa,WAGX,MAAO,CACLT,OAAQ,GACRU,OAAQ,KAGNC,aARO,WAQQ,wKAEjB,EAAKD,OAASE,EAAA,KAAaC,4BAFV,SAGGC,EAAA,KAAcC,cAAc,EAAKL,QAHpC,OAGjB,EAAKV,OAHY,0DAKjBgB,QAAQC,IAAR,MALiB,6D,qBChCvB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,iGCLTC,EAAM,eAENC,E,oGACF,SAAiBC,EAAQC,EAAYjB,EAAYC,GAC7C,IAAIF,EAAO,IAAImB,KACf,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACzB,IACI,IAAIC,EAAKC,IAAMC,KAAKV,EAAM,QAAQ,CAC9BE,UACAC,cACAjB,aACAC,gBACA,KAAQF,EAAK0B,mBAEjBL,EAAQE,GACV,MAAMI,GACJL,EAAQK,S,8BAKpB,SAAwBtB,GACpB,OAAO,IAAIe,SAAQ,SAACC,EAASC,GACzBE,IAAMI,IAAIb,EAAM,QAAUV,GAAQwB,MAAK,SAASN,GACxC,IAAMO,EAAUP,EAAInB,KACpBiB,EAAQS,MACTC,OAAM,SAAUC,GACfV,EAAOU,W,2BAKvB,SAAqB3B,GACjB,OAAO,IAAIe,SAAQ,SAACC,EAASC,GACzBE,IAAMI,IAAIb,EAAK,IAAKV,GAAQwB,MAAK,SAASN,GAClC,IAAMO,EAAUP,EAAInB,KACpBiB,EAAQS,MACTC,OAAM,SAAUC,GACfV,EAAOU,a,KAOZhB","file":"js/chunk-0fe6ac08.3c671f3c.js","sourcesContent":["<template>\r\n  <table class=\"table\">\r\n    <thead class=\"thead-dark\">\r\n      <tr>\r\n        <th scope=\"col\">#</th>\r\n        <th scope=\"col\">{{ $t(\"orderNr\") }}</th>\r\n        <th scope=\"col\">{{ $t(\"date\") }}</th>\r\n        <th scope=\"col\">{{ $t(\"price\") }}</th>\r\n        <th scope=\"col\">{{ $t(\"discount\") }}</th>\r\n        <th scope=\"col\">{{ $t(\"priceSum\") }}</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr v-for=\"(order, index) in orders\" :key=\"order._id\">\r\n        <th scope=\"row\">{{ index + 1 }}</th>\r\n        <td>{{ order._id }}</td>\r\n        <td>{{ order.date || \"\" }}</td>\r\n        <td>{{ order.orderPrice }} €</td>\r\n        <td>{{ order.orderDiscount }} €</td>\r\n        <td>{{ order.orderPrice - order.orderDiscount }} €</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n</template>\r\n\r\n<script>\r\nimport OrdersService from \"../services/OrdersService\";\r\nimport UsersService from \"../services/UsersService\";\r\n\r\nexport default {\r\n  name: \"Orders\",\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      userID: \"\",\r\n    };\r\n  },\r\n  async beforeCreate() {\r\n    try {\r\n      this.userID = UsersService.getUserIDFromLocalStorage();\r\n      this.orders = await OrdersService.getUserOrders(this.userID);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Orders.vue?vue&type=template&id=5b337264\"\nimport script from \"./Orders.vue?vue&type=script&lang=js\"\nexport * from \"./Orders.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\j.kazarian\\\\Desktop\\\\dapsV2\\\\client\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import axios from 'axios';\r\n\r\nconst url = '/api/orders/';\r\n\r\nclass BooksService {\r\n    static postOrder(buyerID,boughtItems,orderPrice, orderDiscount) {\r\n        var date = new Date();\r\n        return new Promise((resolve, reject) => {\r\n            try {\r\n                let res= axios.post(url + \"order\",{\r\n                    buyerID,\r\n                    boughtItems,\r\n                    orderPrice,\r\n                    orderDiscount,\r\n                    \"date\": date.toLocaleString()\r\n                });\r\n                resolve(res)\r\n            } catch(err) {\r\n                reject (err);\r\n            }\r\n        })\r\n    }\r\n\r\n    static getUserLastOrder(userID) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(url + \"last/\" + userID).then(function(res) {\r\n                    const resData = res.data;\r\n                    resolve(resData);\r\n                }).catch(function (error) {\r\n                    reject(error)\r\n                })\r\n        })\r\n    }\r\n\r\n    static getUserOrders(userID) {\r\n        return new Promise((resolve, reject) => {\r\n            axios.get(url +\"/\"+ userID).then(function(res) {\r\n                    const resData = res.data;\r\n                    resolve(resData);\r\n                }).catch(function (error) {\r\n                    reject(error)\r\n                })\r\n        })\r\n    }\r\n}\r\n\r\n\r\nexport default BooksService;"],"sourceRoot":""}